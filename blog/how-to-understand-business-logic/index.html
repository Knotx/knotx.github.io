<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="In this post, we will tell you what does business logic mean for us and transform user stories to domain objects and then model the solution. It starts the series discussing &quot;Business Logic Evolution&quot;.">
  <meta name="keywords" content="knotx, vertx, reactive, asynchronous, templating, java, polyglot, cms, business-logic,domain-driven-design,user-stories">
  <title>How to understand business logic - Knot.x Blog Post</title>

  <meta property="og:title" content="How to understand business logic - Knot.x Blog Post"/>
  <meta property="og:type" content="article"/>
  <meta property="og:url" content="https://knotx.io/blog/how-to-understand-business-logic/"/>
  <meta property="og:site_name" content="Knot.x Website"/>
  <meta property="og:description" content="In this post, we will tell you what does business logic mean for us and transform user stories to domain objects and then model the solution. It starts the series discussing &quot;Business Logic Evolution&quot;."/>
  <meta property="og:image" content="https://knotx.io/img/logo-240x240.png"/>

  <link rel="apple-touch-icon" sizes="57x57" href="/img/favicons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/img/favicons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/img/favicons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/img/favicons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/img/favicons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/img/favicons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/img/favicons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/img/favicons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/img/favicons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/img/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/img/favicons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/img/favicons/favicon-16x16.png">
  <link rel="manifest" href="/img/favicons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/img/favicons/ms-icon-144x144.png">
  <meta name="theme-color" content="#9f136c">

  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900|Montserrat:200,300,400,500,700|Ubuntu:300,400,500,700" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link  rel="stylesheet" href="/styles/bootstrap.css" /><link  rel="stylesheet" href="/styles/github.css" /><link  rel="stylesheet" href="/styles/knotx.css" />
  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>

  <body >
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-92165781-1', 'auto');
  ga('send', 'pageview');

</script>
    <!-- Header -->
<header class="navbar navbar-default navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="/" class="navbar-brand">
        <img src="/img/logo-knotx.png" class="navbar-brand-logo" alt="Knot.x Logo"/>
      </a>
    </div>
    <div class="collapse navbar-collapse">
      <ul class="nav navbar-nav navbar-right">
        
        <li><a href="/download/">Download</a></li>
        
        <li><a href="/tutorials/">Tutorials</a></li>
        
        <li><a href="https://github.com/Knotx/knotx/issues">Issues</a></li>
        
        <li><a href="/documentation/">Documentation</a></li>
        
        <li><a href="/community/">Community</a></li>
        
        <li><a href="/blog/">Blog</a></li>
        
      </ul>
    </div><!--/.nav-collapse -->
  </div>
</header>

    <!-- Content Header -->
<div class="content-header">
  <div class="container">
    <div class="row">
      <div class="col-sm-12">
        <h1>How to understand business logic</h1>
      </div>
    </div>    
  </div>
  
</div>

<div class="container flex blog">
    <div class="row">
      <div class="col-sm-12">
        <article>
          <header class="meta">
  
    <a class="meta-item" href="https://github.com/tomaszmichalak">Tomasz Michalak</a>
  
  <time class="meta-item date"
        datetime="2020-06-05">June 5th, 2020
  </time>

  <div class="meta-item">
    
  </div>
</header>

          <section class="post">
            <p><img src="/img/blog/how-to-understand-business-logic/business-logic-hero-banner.jpg" alt="written equations on brown wooden board"></p>
<p>Wikipedia defines business logic as follows:</p>
<blockquote>
<p>In computer software, business logic or domain logic is the part of the program that encodes the real-world business
rules that determine how data can be created, stored, and changed.</p>
</blockquote>
<p>But how is that definition connected with the code? Today, we will tell you what business logic means to us, software
engineers, and transform user stories to domain objects and then model the solution.</p>
<h2 id="story">Story</h2>
<p>We begin with a brief story, the user story. Once upon a time...</p>
<blockquote>
<p><em>a user gets products</em>.</p>
</blockquote>
<p>This sentence captures a requirement of a software feature from an end-user perspective. It describes what the user
wants. The subject (“user”) is a model (class) that has no behaviour (methods) defined, and contains data (properties).
In the Domain-Driven Design (DDD) it is called a domain object. Our story specifies two domain objects: a user and a
product. The verb (“gets”) defines an action/state/relation between our domain objects. What&#39;s interesting is that this
single word hides most of the complexity of to the solution we are building. One more fact, user stories focus on
results, leaving out the technical details like “how” to get products.</p>
<h2 id="business-logic">Business logic</h2>
<p>Business logic is a part of the solution (application) that executes user stories, using domain objects as its inputs
and outputs. While domain objects define the “who” and the “what”, business logic addresses the &quot;how&quot;. This simple
diagram summarizes our understanding of business logic:</p>
<p><img src="/img/blog/how-to-understand-business-logic/business-logic-input-output.png" alt="Business logic input and output"></p>
<p>Looking at the diagram above, we quickly notice the similarity between business logic and a computer program - let’s
call it a function for simplicity. Every function has an input and an output, which constitute a function&#39;s contract.
And the contract for the function that represents our example user story would be:</p>
<ul>
<li><strong>Domain objects: <code>User</code>, <code>Product</code></strong></li>
<li><strong>Input:</strong> <code>User</code></li>
<li><strong>Output:</strong> <code>Products(User)</code></li>
</ul>
<p>The output is a list of products that are in the User’s context.</p>
<p>Having said that, we can divide business logic of our example into two steps:</p>
<ul>
<li>the first step gets details about the user</li>
<li>the second step uses user details and gets products</li>
</ul>
<p><img src="/img/blog/how-to-understand-business-logic/business-logic-decomposition.png" alt="Business logic decomposition"></p>
<p>It is easy to see that the result of the previous step becomes the input of the next.</p>
<h2 id="decisions">Decisions</h2>
<p>Let&#39;s make our example user story more specific:</p>
<blockquote>
<p><em>Standard user gets standard products.</em></br> <em>Premium user gets premium products.</em></p>
</blockquote>
<p>Adjectives define domain object properties, the attributes. Now our functions look like this:</p>
<ul>
<li><strong>Output 1:</strong> <code>Product&lt;Standard&gt;(User&lt;Standard&gt;)</code></li>
<li><strong>Output 2:</strong> <code>Product&lt;Premium&gt;(User&lt;Premium&gt;)</code></li>
</ul>
<p>Attributes define business decisions, which shape conditions for the next steps. Each step is influenced by decisions
from previous steps.</p>
<p>So our “steps” diagram looks like:</p>
<p><img src="/img/blog/how-to-understand-business-logic/business-logic-variants.png" alt="Business logic variants"></p>
<p>Note: For simplicity we start the diagram with “Context”. That can be an HTTP request, but also any other trigger. We
will not focus on details of it in this article.</p>
<p>The “get user” steps for both scenarios accept the same input (<code>Context</code>) but define two different outputs
(<code>User&lt;Standard&gt;</code> and <code>User&lt;Premium&gt;</code>). Those outputs are business decisions. Steps with the same input can be easily
merged, as shown on the diagram below:</p>
<p><img src="/img/blog/how-to-understand-business-logic/business-logic-decisions.png" alt="Business logic decisions"></p>
<p>As you can see, steps can have a single input and multiple outputs. The input specifies previous business decisions and
the outputs new ones.</p>
<h2 id="big-picture">Big picture</h2>
<p>The presented user stories were trivial. Very often, they are the result of breaking down more complex domain problems
into small manageable items. So one story defines input for another, etc. Combining them together we get a graph of
steps.</p>
<p><img src="/img/blog/how-to-understand-business-logic/business-logic-big-picture.png" alt="Big picture: business logic"></p>
<p>We can say business decisions produce paths to new steps encapsulating new business logic. Finally, we get an acyclic
directed graph of steps (it&#39;s actually a tree), where leaves are the final outputs. Such representation can help to
understand the complexity and the impact of the changing circumstances faster so it&#39;s desired when building larger
systems. As an example of how the graph representation of business logic can be done in practice, you can take a look at
our open source project called <a href="https://knotx.io/">Knot.x</a> (the actual implementation is done in the
<a href="https://github.com/Knotx/knotx-fragments">Knot.x Fragments</a> module).</p>
<h2 id="summary">Summary</h2>
<p>A user story is a bridge between problem and solution spaces. It focuses on a domain, specifying domain objects and
relations between them. Business logic defines steps that fill the gap between domain objects. It is a part of the
solution, managed by software engineers.</p>
<p><img src="/img/blog/how-to-understand-business-logic/problem-solution-space.png" alt="Problem space vs solution space"></p>
<p>Continue reading to the second post in this series: <a href="/blog/what-is-the-business-logic-evolution/">What is the business logic evolution</a>.</p>
<hr>
<p><small>Hero image by <a href="https://unsplash.com/@roman_lazygeek?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Roman Mager</a> on Unsplash.</small></p>

          </section>
        </article>
        <div id="disqus_thread"></div>
        <script>
        var disqus_config = function () {
        this.page.url = "https://knotx.io/blog/how-to-understand-business-logic/";
        this.page.identifier = "50be01ad9c220106e632c758611241cd";
        };
        (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = '//knotx-io.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
        })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      </div>
    </div>
</div>
    <!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-sm-6">
         <p>Knot.x is <a href="https://github.com/Knotx/knotx">open source</a> and is licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0.html">Apache 2.0 License</a>.</p>
      </div>
      <div class="col-sm-5 col-sm-offset-1 text-right">
        <p>Knot.x is brought to you with the support of
        <a href="https://www.wundermanthompson.com/">
          <svg viewBox="-51 -14.008 115 39.953" xmlns="http://www.w3.org/2000/svg">
            <path class="mark" fill="#e661b2" d="M-40.465-10.079h-3.929v-3.929h-2.672v3.929H-51v2.672h3.934v3.929h2.672v-3.929h3.929z"></path>
            <path class="text" fill="#0a47ed" d="M21.3 8.519zM27.594.165a3.643 3.643 0 00-3.638-3.638h-3.995V8.523H21.3V3.802h2.656c.103 0 .205-.005.308-.015l2.166 4.736h1.472L25.561 3.43A3.667 3.667 0 0027.594.165zm-3.638 2.304H21.3v-4.614h2.656a2.314 2.314 0 012.31 2.31 2.312 2.312 0 01-2.31 2.304zm-43.713 2.386c0 1.783-1.206 2.498-2.662 2.498-1.461 0-2.662-.715-2.662-2.498v-8.333h-1.333v8.344c0 2.355 1.629 3.816 3.995 3.816 2.371 0 3.996-1.461 3.996-3.816v-8.344h-1.333v8.333zm-12.518.915l-1.773-9.242h-1.62L-37.44 5.77l-1.666-9.242h-1.359l2.304 11.996h1.411l1.89-9.288 1.891 9.288h1.41l2.304-11.996h-1.359l-1.661 9.242zm45.564 8.016H9.304v11.996h1.334v-4.711h2.651a3.64 3.64 0 003.638-3.637 3.628 3.628 0 00-3.638-3.648zm0 5.947h-2.651v-4.608h2.651a2.308 2.308 0 012.31 2.31 2.306 2.306 0 01-2.31 2.298zm-2.651 6.049zM47.09-3.478L43.269 8.519h1.39l.89-2.764h4.547l.879 2.764h1.41L48.541-3.478H47.09zm-1.123 7.904l1.859-5.778 1.839 5.778h-3.698zm-10.362 9.197a3.889 3.889 0 00-3.883 3.893v4.537a3.889 3.889 0 003.883 3.893 3.899 3.899 0 003.894-3.893v-4.537a3.898 3.898 0 00-3.894-3.893zm2.555 8.43a2.55 2.55 0 01-2.555 2.555 2.55 2.55 0 01-2.555-2.555v-4.537c0-1.42 1.145-2.564 2.555-2.564s2.555 1.145 2.555 2.564v4.537zm-48.767-8.43a3.896 3.896 0 00-3.888 3.893v4.537a3.898 3.898 0 003.888 3.893 3.898 3.898 0 003.893-3.893v-4.537a3.898 3.898 0 00-3.893-3.893zm2.56 8.43c0 1.41-1.145 2.555-2.56 2.555s-2.56-1.135-2.56-2.555v-4.537a2.559 2.559 0 012.56-2.564c1.41 0 2.56 1.145 2.56 2.564v4.537zM-7.93 5.77l-5.431-9.242h-1.257V8.523h1.333V-.725l5.431 9.243h1.257V-3.478H-7.93V5.77zm70.552-9.243V5.77l-5.416-9.242h-1.267V8.523h1.328V-.725l5.437 9.243h1.268V-3.478l-1.35.005zM50.504 23.033l-5.437-9.247H43.81v11.996h1.339v-9.247l5.426 9.247h1.257V13.786h-1.328v9.247zM5.104 4.63V.416a3.89 3.89 0 00-3.888-3.888h-3.99V8.523h3.99A3.9 3.9 0 005.104 4.63zm-6.545-6.775H1.21A2.559 2.559 0 013.77.415V4.63c0 1.41-1.139 2.56-2.56 2.56h-2.651v-9.335zM16.446 7.19h-6.014V3.174h5.359V1.841h-5.359v-3.985h6.014v-1.333H9.1V8.519h7.347V7.19zm19.159-4.741l-2.984-5.921h-1.39V8.523h1.329V-.725l2.615 5.278h.858l2.616-5.278v9.243h1.349V-3.478h-1.39l-3.003 5.927zm-75.416 12.676h4.287v10.657h1.333V15.125h4.281v-1.339h-9.901v1.339zm20.007 3.994h-5.232v-5.333h-1.333v11.996h1.333v-5.334h5.227v5.334h1.339V13.786h-1.339v5.333h.005zm44.618.011l-1.91-.756c-1.288-.542-1.462-1.145-1.462-1.676 0-.49.185-.899.542-1.196.429-.356 1.094-.562 1.85-.562.776 0 1.431.215 1.86.582.397.348.602.839.602 1.462v.215h1.339v-.215c0-2.084-1.553-3.372-3.801-3.372-2.238 0-3.729 1.268-3.729 3.075 0 1.604 1.134 2.483 2.523 3.015l1.696.674c1.645.635 2.126 1.104 2.126 2.086 0 .643-.226 1.154-.655 1.522-.459.397-1.185.623-2.002.623-.858 0-1.584-.205-2.054-.593-.419-.348-.634-.838-.634-1.44v-.297h-1.339v.297c0 2.074 1.646 3.371 4.026 3.371 2.37 0 3.985-1.369 3.985-3.483.001-2.045-1.573-2.78-2.963-3.332zm-23.65.572l-2.994-5.916h-1.385v11.996h1.333v-9.247l2.621 5.282h.854l2.621-5.282v9.247h1.333V13.786H4.164l-3 5.916z"></path>
          </svg>
         </a>
        </p>
      </div>
    </div>
  </div>
</footer>
<script defer="defer"  src="/scripts/vendor/jquery.min.js"></script><script defer="defer"  src="/scripts/vendor/bootstrap.min.js"></script><script defer="defer"  src="/scripts/vendor/highlight.pack.js"></script><script defer="defer"  src="/scripts/knotx.js"></script><script defer="defer"  src="/scripts/vendor/jquery.qtip.min.js"></script><script defer="defer"  src="/scripts/hovermap.js"></script>

<script id="dsq-count-scr" src="//knotx-io.disqus.com/count.js" async></script>


  </body>
</html>