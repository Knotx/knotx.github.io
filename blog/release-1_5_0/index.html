<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="We have just released a minor release Knot.x 1.5.0.">
  <meta name="keywords" content="knotx, vertx, reactive, asynchronous, templating, java, polyglot, cms, release">
  <title>Knot.x 1.5.0 released! - Knot.x Blog Post</title>

  <meta property="og:title" content="Knot.x 1.5.0 released! - Knot.x Blog Post"/>
  <meta property="og:type" content="article"/>
  <meta property="og:url" content="https://knotx.io/blog/release-1_5_0/"/>
  <meta property="og:site_name" content="Knot.x Website"/>
  <meta property="og:description" content="We have just released a minor release Knot.x 1.5.0."/>
  <meta property="og:image" content="https://knotx.io/img/logo-240x240.png"/>

  <link rel="apple-touch-icon" sizes="57x57" href="/img/favicons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/img/favicons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/img/favicons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/img/favicons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/img/favicons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/img/favicons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/img/favicons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/img/favicons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/img/favicons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/img/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/img/favicons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/img/favicons/favicon-16x16.png">
  <link rel="manifest" href="/img/favicons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/img/favicons/ms-icon-144x144.png">
  <meta name="theme-color" content="#9f136c">

  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900|Montserrat:200,300,400,500,700|Ubuntu:300,400,500,700" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link  rel="stylesheet" href="/styles/bootstrap.css" /><link  rel="stylesheet" href="/styles/github.css" /><link  rel="stylesheet" href="/styles/knotx.css" />
  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>

  <body >
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-92165781-1', 'auto');
  ga('send', 'pageview');

</script>
    <!-- Header -->
<header class="navbar navbar-default navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="/" class="navbar-brand">
        <img src="/img/logo-knotx.png" class="navbar-brand-logo" alt="Knot.x Logo"/>
      </a>
    </div>
    <div class="collapse navbar-collapse">
      <ul class="nav navbar-nav navbar-right">
        
        <li><a href="/download/">Download</a></li>
        
        <li><a href="/tutorials/">Tutorials</a></li>
        
        <li><a href="https://github.com/Knotx/knotx/issues">Issues</a></li>
        
        <li><a href="/documentation/">Documentation</a></li>
        
        <li><a href="/community/">Community</a></li>
        
        <li><a href="/blog/">Blog</a></li>
        
      </ul>
    </div><!--/.nav-collapse -->
  </div>
</header>

    <!-- Content Header -->
<div class="content-header">
  <div class="container">
    <div class="row">
      <div class="col-sm-12">
        <h1>Knot.x 1.5.0 released!</h1>
      </div>
    </div>    
  </div>
  
</div>

<div class="container flex blog">
    <div class="row">
      <div class="col-sm-12">
        <article>
          <header class="meta">
  <a class="meta-item" href="https://github.com/skejven">Maciej Laskowski</a>
  <time class="meta-item date"
        datetime="2018-12-20">December 20th, 2018
  </time>

  <div class="meta-item">
    
      <a class="meta-item" href="https://github.com/Knotx/knotx/releases/tag/1.5.0">1.5.0</a>
    
  </div>
</header>

          <section class="post">
            <h1 id="knot-x-1-5-0">Knot.x 1.5.0</h1>
<h2 id="release-notes">Release Notes</h2>
<h3 id="knotx-core"><a href="https://github.com/Cognifide/knotx">knotx-core</a></h3>
<ul>
<li><a href="https://github.com/Cognifide/knotx/pull/468">PR-468</a> - Fragment processing failure handling (configurable fallback)</li>
<li><a href="https://github.com/Cognifide/knotx/pull/465">PR-465</a> - Action Knot functionality moved to <a href="https://github.com/Knotx/knotx-forms">Knot.x Forms</a>.</li>
<li><a href="https://github.com/Cognifide/knotx/pull/467">PR-467</a> - fixed typo in logger format (URI already contains leading slash)</li>
<li><a href="https://github.com/Cognifide/knotx/pull/473">PR-473</a> - mark Handlebars Knot as deprecated on behalf of <a href="https://github.com/Knotx/knotx-template-engine">Knot.x Template Engine</a>.</li>
</ul>
<h3 id="knotx-dependencies"><a href="https://github.com/Knotx/knotx-dependencies">knotx-dependencies</a></h3>
<ul>
<li><a href="https://github.com/Knotx/knotx-dependencies/pull/16">PR-16</a> - Removed <code>knotx-adapter-common</code> dependency</li>
<li><a href="https://github.com/Knotx/knotx-dependencies/pull/15">PR-15</a> - Configure Knot.x Template Engine in BOM file</li>
<li><a href="https://github.com/Knotx/knotx-dependencies/pull/12">PR-12</a> - Configure Knot.x Forms in BOM file</li>
</ul>
<h3 id="knotx-junit5"><a href="https://github.com/Knotx/knotx-junit5">knotx-junit5</a></h3>
<ul>
<li><a href="https://github.com/Knotx/knotx-junit5">PR-5</a> - Html Markup Assertion to test html body content</li>
</ul>
<h3 id="knotx-forms"><a href="https://github.com/Knotx/knotx-forms">knotx-forms</a></h3>
<p>First release of the Knot.x Forms module that replaces 
<a href="https://github.com/Cognifide/knotx/wiki/ActionKnot">Knot.x Action Knot</a>
(which is now deprecated and will be removed soon).
Read more in the <em>Upgrade notes</em> section.</p>
<h3 id="knotx-data-bridge"><a href="https://github.com/Knotx/knotx-data-bridge">knotx-data-bridge</a></h3>
<ul>
<li><a href="https://github.com/Knotx/knotx-data-bridge/pull/37">PR-37</a> - implementation of <a href="https://github.com/Cognifide/knotx/issues/466">fallback handling</a> in data bridge</li>
</ul>
<h3 id="knotx-template-engine"><a href="https://github.com/Knotx/knotx-template-engine">knotx-template-engine</a></h3>
<p>First release of the Knot.x Template Engine module that replaces 
<a href="https://github.com/Cognifide/knotx/wiki/HandlebarsKnot">Knot.x Handlebars Knot</a>
(which is now deprecated and will be removed soon).
Read more in the <em>Upgrade notes</em> section.</p>
<h3 id="knotx-stack"><a href="https://github.com/Knotx/knotx-stack">knotx-stack</a></h3>
<ul>
<li><a href="https://github.com/Knotx/knotx-stack/pull/36">PR-36</a> - Cleanup integration tests</li>
<li><a href="https://github.com/Knotx/knotx-stack/pull/32">PR-32</a> - Extract assembler and splitter EB addresses to globals.</li>
<li><a href="https://github.com/Knotx/knotx-stack/pull/33">PR-33</a> - Knot.x Template Engine introduced instead of HBS Knot</li>
<li><a href="https://github.com/Knotx/knotx-stack/pull/35">PR-35</a> - implementation of <a href="https://github.com/Cognifide/knotx/issues/466">fallback handling</a> - integration tests</li>
</ul>
<h3 id="knotx-example-project"><a href="https://github.com/Knotx/knotx-example-project">knotx-example-project</a></h3>
<ul>
<li><a href="https://github.com/Knotx/knotx-example-project/pull/33">PR-33</a> - Update cluster to use template engine, replace mocks with simple httpd-based images</li>
<li><a href="https://github.com/Knotx/knotx-example-project/pull/32">PR-32</a> - Switched examples from <code>handlebars knot</code> to <code>knotx template engine</code>, example TE strategy implementation</li>
<li><a href="https://github.com/Knotx/knotx-example-project/pull/25">PR-25</a> - Fixed multiple-forms example. Updated Forms Knot attributes.</li>
<li><a href="https://github.com/Knotx/knotx-example-project/pull/20">PR-20</a> - Change <code>acme-action-adapter-http</code> to use <a href="https://github.com/Knotx/knotx-forms"><code>knotx-forms</code></a></li>
<li><a href="https://github.com/Knotx/knotx-example-project/pull/35">PR-35</a> - implementation of <a href="https://github.com/Cognifide/knotx/issues/466">fallback handling</a> in example project</li>
</ul>
<h2 id="upgrade-notes">Upgrade notes</h2>
<h3 id="migration-form-action-knot-to-knot-x-forms">Migration form Action Knot to Knot.x Forms</h3>
<p>Knot.x (&lt;= 1.4.0) used earlier Action Knot. Please follow step below in order to migrate your project from <code>ActionKnot</code> to <code>Knotx Forms</code> module.</p>
<h4 id="configuration-file-">Configuration file:</h4>
<ol>
<li><p>In your main config <code>application.conf</code>, update <code>modules</code> section from:</p>
<pre class="highlight"><code class="hljs 1c"> <span class="hljs-string">"actionKnot=io.knotx.knot.action.ActionKnotVerticle"</span>
 <span class="hljs-string">"actionAdapter=com.acme.adapter.action.http.HttpActionAdapterVerticle"</span></code></pre><p>to </p>
<pre class="highlight"><code class="hljs 1c"> <span class="hljs-string">"forms=io.knotx.forms.core.FormsKnot"</span>
 <span class="hljs-string">"formsAdapter=com.acme.forms.adapter.http.FormsAdapterVerticle"</span></code></pre><p>and define forms in the <code>global</code> section</p>
<pre class="highlight"><code class="hljs stylus">global {
 <span class="hljs-selector-tag">address</span> {
   forms {
     knot = knotx<span class="hljs-selector-class">.knot</span><span class="hljs-selector-class">.forms</span>
     example<span class="hljs-selector-class">.adapter</span> = knotx<span class="hljs-selector-class">.forms</span><span class="hljs-selector-class">.example</span><span class="hljs-selector-class">.adapter</span><span class="hljs-selector-class">.http</span>
   }
 }
}</code></pre><p>Change included configuration name <code>actionKnot.conf</code> to <code>forms.conf</code></p>
</li>
</ol>
<h4 id="page-templates-">Page templates:</h4>
<ul>
<li><p>Rename data attributes accordingly:</p>
<ul>
<li><code>data-knotx-on-</code> to <code>data-knotx-forms-on-</code></li>
<li><code>data-knotx-action</code> to <code>data-knotx-forms-adapter-name</code></li>
<li><code>data-knotx-adapter-params</code> to <code>data-knotx-forms-adapter-params</code></li>
</ul>
</li>
<li><p>In form snippet change <code>action</code> to <code>form</code>. </p>
<p>For example:</p>
<p>Old</p>
<pre class="highlight"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">data-knotx-knots</span>=<span class="hljs-string">"form-1"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/knotx-snippet"</span>&gt;</span><span class="handlebars"><span class="xml">
</span><span class="hljs-template-tag">{{#<span class="hljs-name"><span class="hljs-builtin-name">if</span></span> action._result.validationErrors}}</span><span class="xml">
<span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bg-danger"</span>&gt;</span>Email address does not exists<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
</span><span class="hljs-template-tag">{{/<span class="hljs-name"><span class="hljs-builtin-name">if</span></span>}}</span><span class="xml">
<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Please provide your email address<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">data-knotx-action</span>=<span class="hljs-string">"step1"</span>
<span class="hljs-attr">data-knotx-on-success</span>=<span class="hljs-string">"/content/local/login/step2.html"</span>
 <span class="hljs-attr">data-knotx-on-error</span>=<span class="hljs-string">"_self"</span>
  <span class="hljs-attr">data-knotx-adapter-params</span>=<span class="hljs-string">'{"myKey":"myValue"}'</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"post"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"</span></span></span><span class="hljs-template-tag">{{#<span class="hljs-name"><span class="hljs-builtin-name">if</span></span> action._result.validationError}}</span><span class="xml"><span class="hljs-tag"><span class="hljs-string"> </span></span></span><span class="hljs-template-variable">{{<span class="hljs-builtin-name">action</span>._result.form.email}}</span><span class="xml"><span class="hljs-tag"><span class="hljs-string"> </span></span></span><span class="hljs-template-tag">{{/<span class="hljs-name"><span class="hljs-builtin-name">if</span></span>}}</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">"</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Submit"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
</span></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
<p>New</p>
<pre class="highlight"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">data-knotx-knots</span>=<span class="hljs-string">"form-1"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/knotx-snippet"</span>&gt;</span><span class="handlebars"><span class="xml">
</span><span class="hljs-template-tag">{{#<span class="hljs-name"><span class="hljs-builtin-name">if</span></span> form._result.validationErrors}}</span><span class="xml">
<span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bg-danger"</span>&gt;</span>Email address does not exists<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
</span><span class="hljs-template-tag">{{/<span class="hljs-name"><span class="hljs-builtin-name">if</span></span>}}</span><span class="xml">
<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Please provide your email address<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">data-knotx-forms-adapter-name</span> =<span class="hljs-string">"step1"</span>
  <span class="hljs-attr">data-knotx-forms-on-success</span>=<span class="hljs-string">"/content/local/login/step2.html"</span> 
  <span class="hljs-attr">data-knotx-forms-on-error</span>=<span class="hljs-string">"_self"</span> 
  <span class="hljs-attr">data-knotx-forms-adapter-params</span>=<span class="hljs-string">'{"myKey":"myValue"}'</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"post"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"</span></span></span><span class="hljs-template-tag">{{#<span class="hljs-name"><span class="hljs-builtin-name">if</span></span> form._result.validationError}}</span><span class="xml"><span class="hljs-tag"><span class="hljs-string"> </span></span></span><span class="hljs-template-variable">{{form._result.form.email}}</span><span class="xml"><span class="hljs-tag"><span class="hljs-string"> </span></span></span><span class="hljs-template-tag">{{/<span class="hljs-name"><span class="hljs-builtin-name">if</span></span>}}</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">"</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Submit"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
</span></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
</li>
</ul>
<h4 id="custom-adapter">Custom adapter</h4>
<p>Refactor your custom adapter to inherit <a href="https://github.com/Cognifide/knotx/blob/1.3.0/knotx-core/src/main/java/io/knotx/proxy/AdapterProxy.java"><code>io.knotx.proxy.AdapterProxy</code></a>
to <a href="https://github.com/Knotx/knotx-forms/blob/master/api/src/main/java/io/knotx/forms/api/FormsAdapterProxy.java"><code>io.knotx.forms.api.FormsAdapterProxy</code></a></p>
<h3 id="migration-form-handlebars-knot-to-knot-x-template-engine">Migration form Handlebars Knot to Knot.x Template Engine</h3>
<p>Knot.x (&lt;= 1.4.0) used <code>HandlebarsKnot</code>. Please follow step below in order 
to migrate your project from <code>HandlebarsKnot</code> to <code>Template Engine</code> module.</p>
<p>Handlebars is still the default Template Engine strategy in Knot.x. Thanks to moving into Template Engine module you may now easily
create and configure your own Template Engine strategy and choose some snippets to be rendered by it.
See the <a href="https://github.com/Knotx/knotx-example-project">example project</a> for more details.</p>
<blockquote>
<p>Notice! You may still use old Handlebars Knot with Knot.x 1.5 if you want.
However, remember that it is marked as @Deprecated and will be removed in the next major version.</p>
</blockquote>
<h4 id="configuration-file-">Configuration file:</h4>
<ol>
<li><p>In your main config <code>application.conf</code>, update <code>modules</code> section from:</p>
<pre class="highlight"><code class="hljs 1c"> <span class="hljs-string">"hbsKnot=io.knotx.knot.templating.HandlebarsKnotVerticle"</span></code></pre><p>to </p>
<pre class="highlight"><code class="hljs 1c"> <span class="hljs-string">"templateEngine=io.knotx.te.core.TemplateEngineKnot"</span></code></pre></li>
<li><p>Define module address in the <code>global</code> section</p>
<pre class="highlight"><code class="hljs stylus">global {
 ...
 templateEngine<span class="hljs-selector-class">.address</span> = knotx<span class="hljs-selector-class">.knot</span><span class="hljs-selector-class">.te</span>
}</code></pre></li>
<li><p>Replace all occurenes of the Handlebars Knot address in the Server routing <code>defaultFlow</code> from <code>${global.hbs.address}</code> to <code>${global.templateEngine.address}</code>.</p>
</li>
<li><p>Instead including <code>hbsKnot.conf</code> change include to <code>templateEngine.conf</code>. You will find examples configuration files in 
the <a href="https://github.com/Knotx/knotx-stack/blob/1.5.0/knotx-stack-manager/src/main/packaging/conf/includes">knotx-stack distribution</a>.</p>
</li>
</ol>
<h4 id="page-templates-">Page templates:</h4>
<ol>
<li><p>Update <code>data-knotx-knots</code> values from <code>handlebars</code> to <code>te</code>.</p>
</li>
<li><p>Example helpers: <code>string_equals</code> and <code>encode_uri</code> that were embedded into Handlebars Knot are no longer available in the Template Engine.
You may introduce them by defining handlebars extension as it is presented in the <a href="https://github.com/Knotx/knotx-example-project/tree/1.5.0/acme-handlebars-ext">example project</a>.</p>
</li>
</ol>

          </section>
        </article>
        <div id="disqus_thread"></div>
        <script>
        var disqus_config = function () {
        this.page.url = "https://knotx.io/blog/release-1_5_0/";
        this.page.identifier = "814ccbcccc4fb559766b1ede0469552f";
        };
        (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = '//knotx-io.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
        })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      </div>
    </div>
</div>
    <!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-sm-6">
         <p>Knot.x is <a href="https://github.com/Knotx/knotx">open source</a> and is licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0.html">Apache 2.0 License</a>.</p>
      </div>
      <div class="col-sm-5 col-sm-offset-1 text-right">
        <p>Knot.x is brought to you with the support of <img src="/img/Cognifide_WT_Logo.png" alt="Cognifide"/></p>
      </div>
    </div>
  </div>
</footer>
<script defer="defer"  src="/scripts/vendor/jquery.min.js"></script><script defer="defer"  src="/scripts/vendor/bootstrap.min.js"></script><script defer="defer"  src="/scripts/vendor/highlight.pack.js"></script><script defer="defer"  src="/scripts/knotx.js"></script><script defer="defer"  src="/scripts/vendor/jquery.qtip.min.js"></script><script defer="defer"  src="/scripts/hovermap.js"></script>

<script id="dsq-count-scr" src="//knotx-io.disqus.com/count.js" async></script>


  </body>
</html>